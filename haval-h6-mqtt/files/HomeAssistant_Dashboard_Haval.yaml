title: Haval H6 Dashboard
config_template_card_vars:
  VEICULO: states['select.gwmbrasil_veiculos_registrados'].state
views:
  - type: panel
    path: gwm-dashboard
    title: GWM Dashboard
    icon: mdi:car-electric
    cards:
      - type: custom:config-template-card
        entities:
          - select.gwmbrasil_veiculos_registados
        card:
          type: vertical-stack
          cards:
            - type: custom:mushroom-select-card
              entity: select.gwmbrasil_veiculos_registrados
              icon_color: disabled
              layout: horizontal
              tap_action:
                action: none
              card_mod:
                style: |
                  :host {
                    display: {% if state_attr('select.gwmbrasil_veiculos_registrados', 'options') | length > 1 %} block {% else %} none {% endif %};
                  }
            - type: custom:stack-in-card
              mode: horizontal
              cards:
                - type: custom:button-card
                  name: ' '
                  entity_picture: >
                    [[[ return
                    states["sensor.gwmbrasil_${VEICULO.toLowerCase()}_imagem_do_veiculo"].state
                    ]]]
                  size: 400px
                  show_entity_picture: true
                  tap_action:
                    action: none
                  hold_action:
                    action: none
                  card_mod:
                    style: |
                      ha-card {
                        background: rgba(0,0,0,0.0);
                        border: 0px;
                        box-shadow: 0px 0px rgba(0,0,0,0);
                        display: flex;
                        justify-content: center;
                        align-items: center;
                        position: absolute;
                        top: 25%;
                      }
                      img {
                        max-width: 100%;
                        height: auto;
                        object-fit: contain;
                      }
                - type: custom:stack-in-card
                  mode: vertical
                  keep:
                    background: false
                    box_shadow: false
                    border_radius: false
                    margin: false
                    outer_padding: false
                  card_mod:
                    style: |
                      ha-card {
                        background: rgba(0,0,0,0);
                        border: 0px;
                        box-shadow: 0px 0px rgba(0,0,0,0);
                      }
                  cards:
                    - type: picture
                      image: /local/images/haval_h6/h6.png
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      card_mod:
                        style: |
                          :host {
                            z-index: 1;
                            position: relative;
                          }
                          ha-card {
                            max-width: 441px;
                            max-height: 400px;
                            border: 0px;
                            background: rgba(0,0,0,0);
                          }
                          img {
                            max-width: 100%;
                            max-height: 100%;
                            object-fit: contain;
                          }
                    - type: conditional
                      conditions:
                        - entity: >-
                            binary_sensor.gwmbrasil_${VEICULO.toLowerCase()}_estado_do_ar_condicionado
                          state: 'on'
                      card:
                        type: picture
                        image: /local/images/haval_h6/ac_direita.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: 4;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            binary_sensor.gwmbrasil_${VEICULO.toLowerCase()}_estado_do_ar_condicionado
                          state: 'on'
                      card:
                        type: picture
                        image: /local/images/haval_h6/ac_esquerda.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: 4;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            binary_sensor.gwmbrasil_${VEICULO.toLowerCase()}_porta_dianteira_direita
                          state: 'on'
                      card:
                        type: picture
                        image: >-
                          /local/images/haval_h6/porta_dianteira_direita_aberta.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: 2;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            binary_sensor.gwmbrasil_${VEICULO.toLowerCase()}_porta_dianteira_direita
                          state: 'off'
                      card:
                        type: picture
                        image: >-
                          /local/images/haval_h6/porta_dianteira_direita_fechada.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: 2;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            binary_sensor.gwmbrasil_${VEICULO.toLowerCase()}_porta_dianteira_esquerda
                          state: 'on'
                      card:
                        type: picture
                        image: >-
                          /local/images/haval_h6/porta_dianteira_esquerda_aberta.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: 2;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            binary_sensor.gwmbrasil_${VEICULO.toLowerCase()}_porta_dianteira_esquerda
                          state: 'off'
                      card:
                        type: picture
                        image: >-
                          /local/images/haval_h6/porta_dianteira_esquerda_fechada.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: 2;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            binary_sensor.gwmbrasil_${VEICULO.toLowerCase()}_porta_malas
                          state: 'on'
                      card:
                        type: picture
                        image: /local/images/haval_h6/porta_malas.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: 2;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            binary_sensor.gwmbrasil_${VEICULO.toLowerCase()}_porta_traseira_direita
                          state: 'on'
                      card:
                        type: picture
                        image: >-
                          /local/images/haval_h6/porta_traseira_direita_aberta.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: 2;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            binary_sensor.gwmbrasil_${VEICULO.toLowerCase()}_porta_traseira_direita
                          state: 'off'
                      card:
                        type: picture
                        image: >-
                          /local/images/haval_h6/porta_traseira_direita_fechada.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: 2;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            binary_sensor.gwmbrasil_${VEICULO.toLowerCase()}_porta_traseira_esquerda
                          state: 'on'
                      card:
                        type: picture
                        image: >-
                          /local/images/haval_h6/porta_traseira_esquerda_aberta.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: 2;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            binary_sensor.gwmbrasil_${VEICULO.toLowerCase()}_porta_traseira_esquerda
                          state: 'off'
                      card:
                        type: picture
                        image: >-
                          /local/images/haval_h6/porta_traseira_esquerda_fechada.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: 2;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_posicao_do_teto_solar
                          state_not: '3'
                      card:
                        type: picture
                        image: /local/images/haval_h6/teto_solar_aberto.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: 2;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            binary_sensor.gwmbrasil_${VEICULO.toLowerCase()}_estado_da_trava
                          state: 'off'
                      card:
                        type: picture
                        image: /local/images/haval_h6/trava.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: 4;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            binary_sensor.gwmbrasil_${VEICULO.toLowerCase()}_estado_do_ar_condicionado
                          state: 'on'
                      card:
                        type: picture
                        image: /local/images/haval_h6/ventilacao.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: 3;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_vidro_dianteiro_direito
                          state: '2'
                      card:
                        type: picture
                        image: >-
                          /local/images/haval_h6/vidro_dianteiro_direito_aberto.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: 4;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_vidro_dianteiro_direito
                          state: '3'
                      card:
                        type: picture
                        image: >-
                          /local/images/haval_h6/vidro_dianteiro_direito_entreaberto.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: 3;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_vidro_dianteiro_esquerdo
                          state: '2'
                      card:
                        type: picture
                        image: >-
                          /local/images/haval_h6/vidro_dianteiro_esquerdo_aberto.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: 4;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_vidro_dianteiro_esquerdo
                          state: '3'
                      card:
                        type: picture
                        image: >-
                          /local/images/haval_h6/vidro_dianteiro_esquerdo_entreaberto.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: 3;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_vidro_traseiro_direito
                          state: '2'
                      card:
                        type: picture
                        image: >-
                          /local/images/haval_h6/vidro_traseiro_direito_aberto.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: 4;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_vidro_traseiro_direito
                          state: '3'
                      card:
                        type: picture
                        image: >-
                          /local/images/haval_h6/vidro_traseiro_direito_entreaberto.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: 3;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_vidro_traseiro_esquerdo
                          state: '2'
                      card:
                        type: picture
                        image: >-
                          /local/images/haval_h6/vidro_traseiro_esquerdo_aberto.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: 4;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_vidro_traseiro_esquerdo
                          state: '3'
                      card:
                        type: picture
                        image: >-
                          /local/images/haval_h6/vidro_traseiro_esquerdo_entreaberto.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: 3;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_estado_da_carga
                          state: '1'
                      card:
                        type: picture
                        image: /local/images/haval_h6/carga_carregando.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: -1;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_estado_da_carga
                          state: '5'
                      card:
                        type: picture
                        image: /local/images/haval_h6/carga_aguardando.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: -1;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
                    - type: conditional
                      conditions:
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_estado_da_carga
                          state: '4'
                      card:
                        type: picture
                        image: /local/images/haval_h6/carga_naocarregando.png
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                        card_mod:
                          style: |
                            :host {
                              position: absolute;
                              top: 0;
                              left: 0;
                              z-index: -1;
                            }
                            ha-card {
                              max-width: 441px;
                              max-height: 400px;
                              border: 0px;
                              background: rgba(0,0,0,0);
                            }
                            img {
                              max-width: 100%;
                              max-height: 100%;
                              object-fit: contain;
                            }
              card_mod:
                style: |
                  ha-card {
                    display: flex;
                    border: 0px;
                    justify-content: center;
                    align-items: center;
                  }
            - type: custom:stack-in-card
              mode: horizontal
              cards:
                - type: custom:mushroom-title-card
                  title: >-
                    {{
                    states("sensor.gwmbrasil_${VEICULO.toLowerCase()}_modelo_do_veiculo")
                    }}
                  subtitle: >-
                    {{
                    states("sensor.gwmbrasil_${VEICULO.toLowerCase()}_cor_do_veiculo")
                    }}
                  title_tap_action:
                    action: none
                  subtitle_tap_action:
                    action: none
              card_mod:
                style: |
                  ha-card {
                    display: flex;
                    border: 0px;            
                    justify-content: center;
                    align-items: center;
                  }
            - type: horizontal-stack
              cards:
                - type: custom:bar-card
                  title: Bateria
                  positions:
                    icon: 'off'
                    name: 'off'
                  tap_action:
                    action: more-info
                  hold_action:
                    action: none
                  min: 0
                  max: 100
                  severity:
                    - value: 0
                      color: '#540000'
                    - value: 50
                      color: '#ffa200'
                    - value: 100
                      color: '#009c72'
                  entities:
                    - entity: >-
                        sensor.gwmbrasil_${VEICULO.toLowerCase()}_estado_de_carga_soc
                - type: custom:bar-card
                  title: Combustível
                  positions:
                    icon: 'off'
                    name: 'off'
                  tap_action:
                    action: more-info
                  hold_action:
                    action: none
                  min: 0
                  max: 60
                  severity:
                    - value: 0
                      color: '#540000'
                    - value: 30
                      color: '#ffa200'
                    - value: 55
                      color: '#009c72'
                  entities:
                    - entity: >-
                        sensor.gwmbrasil_${VEICULO.toLowerCase()}_nivel_de_combustivel
            - type: custom:collapsable-cards
              title: Monitoramento dos pneus
              defaultOpen: true
              cards:
                - type: vertical-stack
                  cards:
                    - type: horizontal-stack
                      cards:
                        - type: custom:mini-graph-card
                          name: Dianteiro Esquerdo
                          entities:
                            - >-
                              sensor.gwmbrasil_${VEICULO.toLowerCase()}_pressao_do_pneu_dianteiro_esquerdo
                            - entity: >-
                                sensor.gwmbrasil_${VEICULO.toLowerCase()}_temperatura_do_pneu_dianteiro_esquerdo
                              show_fill: false
                          icon: mdi:arrow-top-left
                          align_icon: left
                          align_state: center
                          hours_to_show: 48
                          points_per_hour: 0.25
                          tap_action:
                            action: none
                          hold_action:
                            action: none
                          show:
                            fill: true
                        - type: custom:mini-graph-card
                          name: Dianteiro Direito
                          entities:
                            - entity: >-
                                sensor.gwmbrasil_${VEICULO.toLowerCase()}_pressao_do_pneu_dianteiro_direito
                            - entity: >-
                                sensor.gwmbrasil_${VEICULO.toLowerCase()}_temperatura_do_pneu_dianteiro_direito
                              show_fill: false
                          icon: mdi:arrow-top-right
                          align_icon: left
                          align_state: center
                          hours_to_show: 48
                          points_per_hour: 0.25
                          tap_action:
                            action: none
                          hold_action:
                            action: none
                          show:
                            fill: true
                        - type: custom:mini-graph-card
                          name: Traseiro Esquerdo
                          entities:
                            - >-
                              sensor.gwmbrasil_${VEICULO.toLowerCase()}_pressao_do_pneu_traseiro_esquerdo
                            - entity: >-
                                sensor.gwmbrasil_${VEICULO.toLowerCase()}_temperatura_do_pneu_traseiro_esquerdo
                              show_fill: false
                          icon: mdi:arrow-bottom-left
                          align_icon: left
                          align_state: center
                          hours_to_show: 48
                          points_per_hour: 0.25
                          tap_action:
                            action: none
                          hold_action:
                            action: none
                          show:
                            fill: true
                        - type: custom:mini-graph-card
                          name: Traseiro Direito
                          entities:
                            - >-
                              sensor.gwmbrasil_${VEICULO.toLowerCase()}_pressao_do_pneu_traseiro_direito
                            - entity: >-
                                sensor.gwmbrasil_${VEICULO.toLowerCase()}_temperatura_do_pneu_traseiro_direito
                              show_fill: false
                          icon: mdi:arrow-bottom-right
                          align_icon: left
                          align_state: center
                          hours_to_show: 48
                          points_per_hour: 0.25
                          tap_action:
                            action: none
                          hold_action:
                            action: none
                          show:
                            fill: true
            - type: horizontal-stack
              cards:
                - type: entities
                  entities:
                    - type: custom:fold-entity-row
                      head:
                        type: section
                        label: Autonomia e abastecimento
                      open: true
                      entities:
                        - type: custom:template-entity-row
                          entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_estado_do_motor
                          name: Estado do motor
                          state: >-
                            ${
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_estado_do_motor'].state
                            === '0' ? 'Desligado' :
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_estado_do_motor'].state
                            === '1' ? 'Ligado' : 'Desconhecido'}
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_autonomia_combustao
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_autonomia_ev
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_nivel_de_combustivel
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_estado_de_carga_soc
                          state_color: true
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_quilometragem_total
                        - type: custom:template-entity-row
                          entity: >-
                            binary_sensor.gwmbrasil_${VEICULO.toLowerCase()}_estado_do_ar_condicionado
                          name: Ar Condicionado
                          state: >-
                            ${
                            states['binary_sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_estado_do_ar_condicionado'].state
                            === 'off' ? 'Desligado' :
                            states['binary_sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_estado_do_ar_condicionado'].state
                            === 'on' ? 'Ligado' : 'Desconhecido'}
                        - type: custom:mushroom-template-card
                          primary: Ligar A/C
                          icon: mdi:fan-clock
                          secondary: Acionar por 15 minutos em 18°C
                          entity: >-
                            button.gwmbrasil_${VEICULO.toLowerCase()}_ativacao_do_ar_condicionado
                          hold_action:
                            action: none
                          tap_action:
                            action: toggle
                            confirmation:
                              text: >-
                                Tem certeza de que deseja ligar o ar
                                condicionado?
                          card_mod:
                            style: |
                              :host {
                                display: {% if states('binary_sensor.gwmbrasil_${VEICULO.toLowerCase()}_estado_do_ar_condicionado') == 'off' and states('binary_sensor.gwmbrasil_${VEICULO.toLowerCase()}_estado_da_trava') == 'off' and states('sensor.gwmbrasil_${VEICULO.toLowerCase()}_estado_do_motor') == '0' %} block {% else %} none {% endif %};
                              }
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_estado_de_carga_12v
                          secondary_info: last-updated
                          state_color: true
                        - type: custom:template-entity-row
                          entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_estado_da_carga
                          name: Estado de Carregamento
                          state: >-
                            ${
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_estado_da_carga'].state
                            === '0' ? 'Desconectado' :
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_estado_da_carga'].state
                            === '1' ? 'Carregando' :
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_estado_da_carga'].state
                            === '2' ? 'Programado' :
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_estado_da_carga'].state
                            === '3' ? 'Finalizado' :
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_estado_da_carga'].state
                            === '5' ? 'Aguardando liberação' : 'Desconhecido' }
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_tempo_de_carga
                          card_mod:
                            style: |
                              :host {
                                display: {% if is_state('sensor.gwmbrasil_${VEICULO.toLowerCase()}_estado_da_carga','1') %} block {% else %} none {% endif %};
                              }
                - type: entities
                  entities:
                    - type: custom:fold-entity-row
                      head:
                        type: section
                        label: Pneus
                      open: true
                      entities:
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_pressao_do_pneu_dianteiro_direito
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_temperatura_do_pneu_dianteiro_direito
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_pressao_do_pneu_dianteiro_esquerdo
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_temperatura_do_pneu_dianteiro_esquerdo
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_pressao_do_pneu_traseiro_direito
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_temperatura_do_pneu_traseiro_direito
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_pressao_do_pneu_traseiro_esquerdo
                        - entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_temperatura_do_pneu_traseiro_esquerdo
            - type: horizontal-stack
              cards:
                - type: entities
                  entities:
                    - type: custom:fold-entity-row
                      head:
                        type: section
                        label: Portas
                      open: true
                      entities:
                        - type: custom:template-entity-row
                          entity: >-
                            binary_sensor.gwmbrasil_${VEICULO.toLowerCase()}_estado_da_trava
                          name: Trava das portas
                          color: >-
                            ${
                            states['binary_sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_estado_da_trava'].state
                            === 'on' ? 'red' : '' }
                          icon: >-
                            ${
                            states['binary_sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_estado_da_trava'].state
                            === 'off' ? 'mdi:car-door-lock' :
                            states['binary_sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_estado_da_trava'].state
                            === 'on' ? 'mdi:car-door-lock-open' :
                            'mdi:cloud-question' }
                          state: >-
                            ${
                            states['binary_sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_estado_da_trava'].state
                            === 'off' ? 'Trancada' :
                            states['binary_sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_estado_da_trava'].state
                            === 'on' ? 'Destrancada' : 'Desconhecido'}
                        - type: custom:template-entity-row
                          entity: >-
                            binary_sensor.gwmbrasil_${VEICULO.toLowerCase()}_porta_malas
                          name: Porta malas
                          state: >-
                            ${
                            states['binary_sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_porta_malas'].state
                            === 'off' ? 'Fechado' :
                            states['binary_sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_porta_malas'].state
                            === 'on' ? 'Aberto' : 'Desconhecido'}
                        - type: custom:template-entity-row
                          entity: >-
                            binary_sensor.gwmbrasil_${VEICULO.toLowerCase()}_porta_dianteira_direita
                          name: Dianteira direita
                          color: >-
                            ${
                            states['binary_sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_porta_dianteira_direita'].state
                            === 'on' ? 'red' : '' }
                          state: >-
                            ${
                            states['binary_sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_porta_dianteira_direita'].state
                            === 'off' ? 'Fechada' :
                            states['binary_sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_porta_dianteira_direita'].state
                            === 'on' ? 'Aberta' : 'Desconhecido'}
                        - type: custom:template-entity-row
                          entity: >-
                            binary_sensor.gwmbrasil_${VEICULO.toLowerCase()}_porta_dianteira_esquerda
                          name: Dianteira esquerda
                          color: >-
                            ${
                            states['binary_sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_porta_dianteira_esquerda'].state
                            === 'on' ? 'red' : '' }
                          state: >-
                            ${
                            states['binary_sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_porta_dianteira_esquerda'].state
                            === 'off' ? 'Fechada' :
                            states['binary_sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_porta_dianteira_esquerda'].state
                            === 'on' ? 'Aberta' : 'Desconhecido'}
                        - type: custom:template-entity-row
                          entity: >-
                            binary_sensor.gwmbrasil_${VEICULO.toLowerCase()}_porta_traseira_direita
                          name: Traseira direita
                          color: >-
                            ${
                            states['binary_sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_porta_traseira_direita'].state
                            === 'on' ? 'red' : '' }
                          state: >-
                            ${
                            states['binary_sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_porta_traseira_direita'].state
                            === 'off' ? 'Fechada' :
                            states['binary_sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_porta_traseira_direita'].state
                            === 'on' ? 'Aberta' : 'Desconhecido'}
                        - type: custom:template-entity-row
                          entity: >-
                            binary_sensor.gwmbrasil_${VEICULO.toLowerCase()}_porta_traseira_esquerda
                          name: Traseira esquerda
                          color: >-
                            ${
                            states['binary_sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_porta_traseira_esquerda'].state
                            === 'on' ? 'red' : '' }
                          state: >-
                            ${
                            states['binary_sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_porta_traseira_esquerda'].state
                            === 'off' ? 'Fechada' :
                            states['binary_sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_porta_traseira_esquerda'].state
                            === 'on' ? 'Aberta' : 'Desconhecido'}
                      state_color: false
                - type: entities
                  entities:
                    - type: custom:fold-entity-row
                      head:
                        type: section
                        label: Vidros
                      open: true
                      entities:
                        - type: custom:template-entity-row
                          entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_vidro_dianteiro_direito
                          name: Dianteiro direito
                          color: >-
                            ${
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_vidro_dianteiro_direito'].state
                            !== '1' ? 'red' : '' }
                          state: >-
                            ${
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_vidro_dianteiro_direito'].state
                            === '1' ? 'Fechado' :
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_vidro_dianteiro_direito'].state
                            === '2' ? 'Aberto' :
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_vidro_dianteiro_direito'].state
                            === '3' ? 'Entreaberto' : 'Desconhecido' }
                        - type: custom:template-entity-row
                          entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_vidro_dianteiro_esquerdo
                          name: Dianteiro esquerdo
                          color: >-
                            ${
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_vidro_dianteiro_esquerdo'].state
                            !== '1' ? 'red' : '' }
                          state: >-
                            ${
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_vidro_dianteiro_esquerdo'].state
                            === '1' ? 'Fechado' :
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_vidro_dianteiro_esquerdo'].state
                            === '2' ? 'Aberto' :
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_vidro_dianteiro_esquerdo'].state
                            === '3' ? 'Entreaberto' : 'Desconhecido' }
                        - type: custom:template-entity-row
                          entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_vidro_traseiro_direito
                          name: Traseiro direito
                          color: >-
                            ${
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_vidro_traseiro_direito'].state
                            !== '1' ? 'red' : '' }
                          state: >-
                            ${
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_vidro_traseiro_direito'].state
                            === '1' ? 'Fechado' :
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_vidro_traseiro_direito'].state
                            === '2' ? 'Aberto' :
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_vidro_traseiro_direito'].state
                            === '3' ? 'Entreaberto' : 'Desconhecido' }
                        - type: custom:template-entity-row
                          entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_vidro_traseiro_esquerdo
                          name: Traseiro esquerdo
                          color: >-
                            ${
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_vidro_traseiro_esquerdo'].state
                            !== '1' ? 'red' : '' }
                          state: >-
                            ${
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_vidro_traseiro_esquerdo'].state
                            === '1' ? 'Fechado' :
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_vidro_traseiro_esquerdo'].state
                            === '2' ? 'Aberto' :
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_vidro_traseiro_esquerdo'].state
                            === '3' ? 'Entreaberto' : 'Desconhecido' }
                        - type: custom:template-entity-row
                          entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_posicao_do_teto_solar
                          name: Teto Solar
                          state: >-
                            ${
                            states['sensor.gwmbrasil_'+VEICULO.toLowerCase()+'_posicao_do_teto_solar'].state
                            === '3' ? 'Fechado' : 'Aberto'}
                        - type: custom:bar-card
                          entity: >-
                            sensor.gwmbrasil_${VEICULO.toLowerCase()}_posicao_do_teto_solar
                          name: Teto Solar
                          tap_action:
                            action: none
                          hold_action:
                            action: none
                          min: 0
                          max: 100
                          unit_of_measurement: '%'
                          severity:
                            - value: 0
                              color: '#009c72'
                            - value: 50
                              color: '#ffa200'
                            - value: 100
                              color: '#540000'
                          card_mod:
                            style: |
                              :host {
                                display: {% if states('sensor.gwmbrasil_${VEICULO.toLowerCase()}_posicao_do_teto_solar') == '3' %} none {% elif states('sensor.gwmbrasil_${VEICULO.toLowerCase()}_posicao_do_teto_solar') is none %} none {% else %} block {% endif %};
                              }
                      state_color: false
            - type: custom:collapsable-cards
              title: Mapa
              defaultOpen: true
              cards:
                - type: map
                  entities:
                    - entity: device_tracker.gwmbrasil_${VEICULO.toLowerCase()}
                  theme_mode: dark
                  default_zoom: 16
                  hours_to_show: 30
                  auto_fit: true
                  aspect_ratio: '16:9'